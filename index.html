<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tipos de Almacenamiento de Datos</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
  <header class="bg-blue-600 text-white py-6">
    <h1 class="text-3xl font-bold text-center">Tipos de Almacenamiento de Datos</h1>
  </header>

  <main class="max-w-5xl mx-auto p-6 space-y-12">

    <!-- Filtro -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">🔎 Filtro</h2>
      <input type="text" id="filterInput" placeholder="Filtra tarjetas por palabra clave..." 
        class="w-full p-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
    </section>

    <!-- Tarjetas -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">📦 Tarjetas de almacenamiento</h2>
      <div id="cards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
    </section>

    <!-- Tabla comparativa -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">📊 Tabla comparativa</h2>
      <div class="overflow-x-auto">
        <table id="comparisonTable" class="table-auto border-collapse border border-gray-300 w-full text-sm">
          <thead class="bg-blue-100">
            <tr>
              <th class="border border-gray-300 px-4 py-2">Tipo</th>
              <th class="border border-gray-300 px-4 py-2">Latencia</th>
              <th class="border border-gray-300 px-4 py-2">Rendimiento</th>
              <th class="border border-gray-300 px-4 py-2">Durabilidad</th>
              <th class="border border-gray-300 px-4 py-2">Escalabilidad</th>
              <th class="border border-gray-300 px-4 py-2">Coste</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Glosario -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">📖 Glosario</h2>
      <dl id="glossary" class="space-y-4"></dl>
    </section>

    <!-- Quiz -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">📝 Quiz</h2>
      <form id="quizForm" class="space-y-4"></form>
      <p id="quizResult" class="mt-4 font-semibold"></p>
    </section>

  </main>

  <footer class="bg-gray-200 text-center py-4">
    <p>&copy; 2025 Web educativa sobre almacenamiento de datos</p>
  </footer>

  <script>
    // ================== Datos ==================
    const items = [
      { tipo:"RAM", uso:"Memoria volátil para procesos en ejecución", ejemplos:"DDR4, DDR5", latencia:"Nanosegundos", rendimiento:"Muy alto", durabilidad:"Baja", escalabilidad:"Limitada", coste:"Alto por GB", desc:"Memoria principal usada por la CPU para operaciones temporales."},
      { tipo:"SSD NVMe", uso:"Almacenamiento secundario de alto rendimiento", ejemplos:"Samsung 980 Pro, WD Black", latencia:"Decenas de microsegundos", rendimiento:"Muy alto (IOPS elevados)", durabilidad:"Media-alta", escalabilidad:"Buena", coste:"Medio-alto", desc:"Discos de estado sólido con interfaz NVMe, muy rápidos para bases de datos y aplicaciones críticas."},
      { tipo:"HDD", uso:"Almacenamiento secundario económico y masivo", ejemplos:"Seagate Barracuda, WD Blue", latencia:"Milisegundos", rendimiento:"Bajo-medio", durabilidad:"Alta", escalabilidad:"Alta", coste:"Bajo por GB", desc:"Discos duros magnéticos, ideales para archivos grandes y copias de seguridad."},
      { tipo:"NAS", uso:"Almacenamiento compartido en red local", ejemplos:"Synology, QNAP", latencia:"Milisegundos", rendimiento:"Variable", durabilidad:"Alta con RAID", escalabilidad:"Media", coste:"Medio", desc:"Network Attached Storage: un dispositivo conectado a la red para compartir datos."},
      { tipo:"SAN", uso:"Red de almacenamiento de alto rendimiento para empresas", ejemplos:"Dell EMC PowerMax, HPE 3PAR", latencia:"Baja", rendimiento:"Muy alto", durabilidad:"Alta", escalabilidad:"Alta", coste:"Muy alto", desc:"Storage Area Network: infraestructura empresarial para almacenamiento crítico."},
      { tipo:"Objeto en nube", uso:"Almacenamiento escalable en la nube para archivos", ejemplos:"Amazon S3, Google Cloud Storage", latencia:"Variable", rendimiento:"Medio", durabilidad:"Muy alta (11 nueves)", escalabilidad:"Prácticamente ilimitada", coste:"Bajo-medio", desc:"Almacenamiento basado en objetos, ideal para copias, multimedia y datos no estructurados."},
      { tipo:"Bloque en nube", uso:"Almacenamiento persistente en forma de discos virtuales", ejemplos:"AWS EBS, Azure Managed Disks", latencia:"Baja-media", rendimiento:"Alto", durabilidad:"Alta", escalabilidad:"Buena", coste:"Medio", desc:"Almacenamiento en bloques en la nube, similar a discos físicos pero gestionados remotamente."},
      { tipo:"BD relacional", uso:"Gestión estructurada de datos transaccionales", ejemplos:"MySQL, PostgreSQL, Oracle", latencia:"Depende de la infraestructura", rendimiento:"Alto en transacciones ACID", durabilidad:"Alta", escalabilidad:"Vertical media, horizontal compleja", coste:"Variable", desc:"Bases de datos estructuradas con soporte SQL y consistencia fuerte."},
      { tipo:"NoSQL clave-valor", uso:"Gestión rápida de datos no estructurados", ejemplos:"Redis, DynamoDB", latencia:"Muy baja", rendimiento:"Muy alto", durabilidad:"Variable", escalabilidad:"Muy alta (horizontal)", coste:"Variable", desc:"Bases de datos NoSQL optimizadas para consultas rápidas de pares clave-valor."},
      { tipo:"Cinta / Archivado", uso:"Almacenamiento offline a largo plazo", ejemplos:"LTO Ultrium", latencia:"Muy alta", rendimiento:"Bajo", durabilidad:"Muy alta (décadas)", escalabilidad:"Buena", coste:"Muy bajo por TB", desc:"Medio físico usado para archivo y respaldo de muy largo plazo."}
    ];

    const glosario = [
      { termino:"Latencia", definicion:"Tiempo de respuesta de un sistema de almacenamiento desde que se solicita un dato hasta que se entrega." },
      { termino:"IOPS", definicion:"Operaciones de entrada/salida por segundo, medida del rendimiento de almacenamiento." },
      { termino:"ACID", definicion:"Conjunto de propiedades (Atomicidad, Consistencia, Aislamiento, Durabilidad) que garantizan la fiabilidad en bases de datos relacionales." },
      { termino:"RAID", definicion:"Conjunto de técnicas que combinan múltiples discos para mejorar redundancia o rendimiento." },
      { termino:"CAP", definicion:"Teorema que afirma que en sistemas distribuidos solo se pueden garantizar simultáneamente dos de tres propiedades: Consistencia, Disponibilidad y Tolerancia a particiones." },
      { termino:"Throughput", definicion:"Cantidad de datos que puede procesar un sistema en un tiempo determinado (ancho de banda)." },
      { termino:"Durabilidad", definicion:"Propiedad de un sistema de almacenamiento que asegura la persistencia de los datos a largo plazo." }
    ];

    const preguntas = [
      { enunciado:"¿Qué tipo de almacenamiento suele ofrecer la menor latencia?", opciones:["RAM","HDD","Cinta"], correcta:"RAM" },
      { enunciado:"¿Qué propiedad NO pertenece al conjunto ACID?", opciones:["Atomicidad","Consistencia","Escalabilidad"], correcta:"Escalabilidad" },
      { enunciado:"¿Qué tipo de almacenamiento es más adecuado para archivado de muy largo plazo?", opciones:["SSD NVMe","Cinta/Archivado","BD relacional"], correcta:"Cinta/Archivado" }
    ];

    // ================== Render dinámico ==================
    const cardsContainer = document.getElementById("cards");
    items.forEach(item => {
      const div = document.createElement("div");
      div.className = "card bg-white shadow-md rounded-lg p-4";
      div.dataset.keywords = Object.values(item).join(" ").toLowerCase();
      div.innerHTML = `
        <h3 class="text-lg font-bold">${item.tipo}</h3>
        <p class="font-medium">Uso:</p><p>${item.uso}</p>
        <p class="font-medium">Ejemplos:</p><p>${item.ejemplos}</p>
        <p class="font-medium">Descripción:</p><p>${item.desc}</p>
      `;
      cardsContainer.appendChild(div);
    });

    // Tabla comparativa
    const tableBody = document.querySelector("#comparisonTable tbody");
    items.forEach(item => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td class="border px-4 py-2">${item.tipo}</td>
        <td class="border px-4 py-2">${item.latencia}</td>
        <td class="border px-4 py-2">${item.rendimiento}</td>
        <td class="border px-4 py-2">${item.durabilidad}</td>
        <td class="border px-4 py-2">${item.escalabilidad}</td>
        <td class="border px-4 py-2">${item.coste}</td>
      `;
      tableBody.appendChild(tr);
    });

    // Glosario
    const glossaryContainer = document.getElementById("glossary");
    glosario.forEach(g => {
      const div = document.createElement("div");
      div.innerHTML = `<dt class="font-bold">${g.termino}</dt><dd>${g.definicion}</dd>`;
      glossaryContainer.appendChild(div);
    });

    // Quiz
    const quizForm = document.getElementById("quizForm");
    preguntas.forEach((p, i) => {
      const div = document.createElement("div");
      div.innerHTML = `<p class="font-medium">${i+1}. ${p.enunciado}</p>`;
      p.opciones.forEach(opt => {
        const label = document.createElement("label");
        label.className = "block";
        label.innerHTML = `<input type="radio" name="q${i}" value="${opt}"> ${opt}`;
        div.appendChild(label);
      });
      quizForm.appendChild(div);
    });
    const submitBtn = document.createElement("button");
    submitBtn.type = "submit";
    submitBtn.className = "bg-blue-600 text-white px-4 py-2 rounded-md";
    submitBtn.textContent = "Enviar";
    quizForm.appendChild(submitBtn);

    const quizResult = document.getElementById("quizResult");
    quizForm.addEventListener("submit", e => {
      e.preventDefault();
      let score = 0;
      preguntas.forEach((p,i) => {
        const chosen = quizForm.querySelector(`input[name="q${i}"]:checked`);
        if(chosen && chosen.value === p.correcta) score++;
      });
      quizResult.textContent = `Has acertado ${score} de ${preguntas.length} preguntas.`;
    });

    // Filtro de tarjetas
    const filterInput = document.getElementById("filterInput");
    filterInput.addEventListener("input", () => {
      const query = filterInput.value.toLowerCase();
      document.querySelectorAll(".card").forEach(card => {
        card.style.display = card.dataset.keywords.includes(query) ? "block" : "none";
      });
    });
  </script>
</body>
</html>
